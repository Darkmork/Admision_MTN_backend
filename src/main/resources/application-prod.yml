# Configuración optimizada para PRODUCCIÓN
spring:
  # JPA - Modo producción optimizado
  jpa:
    show-sql: false
    properties:
      hibernate:
        format_sql: false
        # Cache habilitado para mejor rendimiento
        cache:
          use_second_level_cache: true
          use_query_cache: true
          region:
            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory
        # Optimizaciones de rendimiento
        jdbc:
          batch_size: 25
          fetch_size: 50
        generate_statistics: false
        
  # DevTools deshabilitado en producción
  devtools:
    restart:
      enabled: false
    livereload:
      enabled: false

# Logging mínimo para producción
logging:
  level:
    com.desafios.admision_mtn: INFO
    org.springframework.security: WARN
    org.springframework.web: WARN
    org.hibernate: WARN
    root: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n"
  file:
    name: /var/log/admision-mtn/application.log
    max-file-size: 10MB
    max-history: 30

# 🔒 SEGURIDAD: Variables de entorno OBLIGATORIAS en producción
jwt:
  secret: ${JWT_SECRET:CHANGE_THIS_SECRET_IN_PRODUCTION_MINIMUM_512_BITS_REQUIRED}

# 🚨 VALIDACIÓN: Estas variables DEBEN estar configuradas
app:
  validation:
    required-env-vars:
      - JWT_SECRET
      - DB_PASSWORD
      - SMTP_PASSWORD
      - ALLOWED_ORIGINS